<?xml version="1.0" encoding="UTF-8"?>
<project name="Jeu de GO" default="build" basedir=".">
	<description>MEDEV - Projet Jeu de GO</description>
	<property name="src.location" location="src"/>
	<property name="build.location" location="build"/>
	<property name="test.location" location="test"/>

	<target name="init">
		<tstamp/>
		<mkdir dir="${build.location}"/>
		<condition property="src.build.test.available">
			<and>
				<available file="${src.location}" type="dir"/>
				<available file="${build.location}" type="dir"/>
				<available file="${test.location}" type="dir"/>
			</and>
		</condition>
	</target>

	<target name="build.test" description="Compiler les tests unitaires" depends="init" if="src.build.test.available">
		<javac srcdir="${src.location}" destdir="${build.location}"/>
		<condition property="build.test.ok">
		</condition>
	</target>

	<target name="run.test" description="Lancer les tests unitaires" depends="build.test" if="build.test.ok">
		<condition property="run.test.ok">
		</condition>
	</target>

	<target name="build" description="Compiler les sources en .jar" depends="run.test" if="run.test.ok">
		<javac srcdir="${src.location}" destdir="${build.location}"/>
	</target>

	<target name="javadoc" description="Générer la javadoc" depends="run.test" if="run.test.ok">
	</target>

	<target name="sonar-runner" depends="run.test" if="run.test.ok">
		<property name="sonar.jdbc.url" value="
	</target>
</project>
